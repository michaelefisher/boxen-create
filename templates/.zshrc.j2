## load zsh stuff early
export ZSH=$HOME/.oh-my-zsh
export ZSH_THEME="powerlevel10k/powerlevel10k"
source $ZSH/oh-my-zsh.sh
POWERLEVEL9K_DISABLE_CONFIGURATION_WIZARD=true

## aliases
if [ -f ~/.aliases ]; then
    . ~/.aliases
fi

export HISTTIMEFORMAT='%d/%m/%y %T '

export EDITOR="vim"

for key in "michaelfisher"; do
	if [[ -s ~/.ssh/${key} ]]; then
		ssh-add ~/.ssh/${key};
	fi
done

GIT="$HOME/git"

function dateu() {
  date --date="@$1"
}

function timestamp() {
  date -j -f "%b %d %T %Z %Y" "${1}" "+%s"
}

# some annoying rbenv stuffs
if [[ -e ${HOME}/.rbenv ]]; then
  export PATH="${HOME}/.rbenv/bin:${PATH}"
  eval "$(rbenv init -)"
fi

# tabtab source for serverless package
# uninstall by removing these lines or running `tabtab uninstall serverless`
[ -f ${HOME}/.nvm/versions/node/v6.14.2/lib/node_modules/serverless/node_modules/tabtab/.completions/serverless.bash ] && . ${HOME}/.nvm/versions/node/v6.14.2/lib/node_modules/serverless/node_modules/tabtab/.completions/serverless.bash
# tabtab source for sls package
# uninstall by removing these lines or running `tabtab uninstall sls`
[ -f ${HOME}/.nvm/versions/node/v6.14.2/lib/node_modules/serverless/node_modules/tabtab/.completions/sls.bash ] && . ${HOME}/.nvm/versions/node/v6.14.2/lib/node_modules/serverless/node_modules/tabtab/.completions/sls.bash
# tabtab source for slss package
# uninstall by removing these lines or running `tabtab uninstall slss`
[ -f ${HOME}/.nvm/versions/node/v6.14.2/lib/node_modules/serverless/node_modules/tabtab/.completions/slss.bash ] && . ${HOME}/.nvm/versions/node/v6.14.2/lib/node_modules/serverless/node_modules/tabtab/.completions/slss.bash


export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm

export PATH="/usr/local/sbin:/usr/local/opt:$PATH"

#docker-compose up wp
function wp-up() {
  if [[ -d ${GIT}/docker-wordpress-vip-go ]]; then
    current_dir=$PWD
    cd $GIT/docker-wordpress-vip-go && docker-compose up -d && cd $current_dir
  fi
}

# tabtab source for packages
# uninstall by removing these lines
[ -f ~/.config/tabtab/__tabtab.bash ] && . ~/.config/tabtab/__tabtab.bash || true

function ssh-downloads() {
	if [[ -f ${HOME}/Downloads/${2} ]]; then
		echo -n "Copying file to ${1} at location /home/michael/Downloads/${2}"
		scp -r ${HOME}/Downloads/${2} ${1}:/home/michael/Downloads/${2}
	fi
}

function setup() {
	cwd=$PWD
	$(cd ${GIT}/aws-cloudformation && `make setup 2>&1 /dev/null` && cd $cwd)
}

# gam
gam() { "/Users/michael/bin/gam/gam" "$@" ; }
